<!DOCTYPE html>
   <html lang="en">
   <head>
      <link rel="stylesheet" href="./style.css">
      <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/3.5.0/remixicon.min.css">
      
      <title>Login</title>
      <link rel="icon" type="image/x-icon" href="../favicon.png">
   </head>

   <body>
      <header class="header" id="header">
         <nav class="nav container">
            <a href="../index.html" class="logo">
               <i class="ri-graduation-cap-fill"></i> Study Space
            </a>

            <div class="nav_bar" id="nav-menu">
               <ul class="nav_content_list">

                  <li class="nav_item">
                     <a href="../index.html" class="nav_button_normal">Home</a>
                  </li>

                  <li class="nav_item">
                     <a href="../Auth/login.html" class="nav_button_normal">Resources and Materials</a>
                  </li>

                  <li class="nav_item">
                     <a href="../Auth/login.html" class="nav_button_normal">Study Help</a>
                  </li>

                  <li class="nav_item">
                     <a href="./about.html" class="nav_button_normal">About Us</a>
                  </li>

               </ul>
         
               <a href="../Auth/login.html" class="nav_button">Login</a>
         </nav>
      </header>
      <main class="main">
         <section class="home">
            <div class="home_container container">

               <div class="mainLog" style="animation: slideIn 0.5s ease forwards;">
                  <p class="sign" align="center">Login</p>
                  <form class="form1">
                  <input class="un " type="text" align="center" placeholder="Email Address">
                  <input class="pass" type="password" align="center" placeholder="Password">
                  <div id ="submit"><a class = "submit"  align="center">Login</a></div>
                  <div><p class="forgot" align="center" style="color:rgb(51, 50, 50)">Don't have an account? <a href="./signup.html">Sign up here</a></p> </div> 
               </div>
 
               <div class="home_images">
                <img src="../images/points-space.svg" alt="image" class="home_points">
                <img src="../images/planet.svg" alt="image" class="home_planet-2">
                <img src="../images/planet.svg" alt="image" class="home_planet-1">
                <img src="../images/rocket.svg" alt="image" class="home_rocket">
             </div>
          </div>
          
          <img src="../images/clouds-1.svg" alt="image" class="home_cloud-1">
          <img src="../images/clouds-2.svg" alt="image" class="home_cloud-2">
         </section>

         <script>
            // Function to handle user login
            
            function login() {
               const username = document.querySelector('.un').value;
               const password = document.querySelector('.pass').value;

              

               // Get existing users from Local Storage or initialize an empty array
               const users = JSON.parse(localStorage.getItem('users')) || [];

            // Check if the user exists
            const user = users.find((u) => u.username === username && u.password === password);

               if (user) {
                  // Store the logged-in user's username and name/surname in local storage
                  localStorage.setItem('loggedInName', user.firstName);
                  localStorage.setItem('loggedInSurname', user.surname);
                  localStorage.setItem('loggedInUsername', username);

                  window.location.href = '../UserPages/home.html';
               } else {
                  showCustomPopup('Invalid username or password');
               }
}
      
            // Event listener for the login button
            const loginButton = document.querySelector('.submit');
            loginButton.addEventListener('click', login);

            function showModal(message) {
            const modal = document.getElementById('custom-modal');
            const modalText = document.getElementById('modal-text');

            modalText.textContent = message;
            modal.style.display = 'block';

            // Add an event listener to close the modal when the close button is clicked
            const closeBtn = document.querySelector('.close');
            closeBtn.addEventListener('click', hideModal);
            }

            // Function to hide the custom modal
            function hideModal() {
            const modal = document.getElementById('custom-modal');
            modal.style.display = 'none';
            }

            // Example of showing a custom popup
            function showCustomPopup(message) {
            showModal(message);
            }
         </script>

         <div id="custom-modal" class="modal">
            <div class="modal-content">
            <p id="modal-text"></p>
            <button class="profile-button" style="color:white" type="button" onclick="hideModal()">Okay</button>
            </div>
         </div>

         <script>
      
            const imagesToMove = document.querySelectorAll('.home_images img');
          
            // Function to move images with the cursor
            function moveImages(event) {
              imagesToMove.forEach((image, index) => {
                const moveFactor = (index + 1) * 0.02; // Adjust the movement speed
                const imageRect = image.getBoundingClientRect();
                const imageCenterX = imageRect.left + imageRect.width / 2;
                const imageCenterY = imageRect.top + imageRect.height / 2;
          
                const cursorX = event.clientX;
                const cursorY = event.clientY;
          
                const deltaX = cursorX - imageCenterX;
                const deltaY = cursorY - imageCenterY;
          
                const translateX = deltaX * moveFactor + 'px';
                const translateY = deltaY * moveFactor + 'px';
          
                image.style.transform = `translate(${translateX}, ${translateY})`;
              });
            }
          
            document.addEventListener('mousemove', moveImages);
          </script>
   </body>
</html>

