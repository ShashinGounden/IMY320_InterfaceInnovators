<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="../../css/studyhelp.css">

    <title>Study help</title>
    <link rel="icon" type="image/x-icon" href="../favicon.png">
   
</head>
<body>
    
        <nav class="nav container">
            <a href="../index.html" class="logo">
                <i class="ri-school-line"></i> Study Space
            </a>

            <div class="nav_bar" id="nav-menu">
                <ul class="nav_content_list">
                    <li class="nav_item">
                        <a href="./home.html" class="nav_button_normal">Home</a>
                    </li>

                    <li class="nav_item">
                        <a href="./resources.html" class="nav_button_normal">Resources and Materials</a>
                    </li>

                    <li class="nav_item">
                        <a href="./studyhelp.html" class="nav_button_normal">Study Help</a>
                    </li>
                </ul>

                <a href="../Auth/login.html" class="nav_button">Login</a>

            </div>

        </nav>

        <div class="home_images">
            <img src="../../images/points-space.svg" alt="image" class="home_points">
            <img src="../../images/planet.svg" alt="image" class="home_planet-2 fixed-image">
            <img src="../../images/planet.svg" alt="image" class="home_planet-1 fixed-image">
        </div>


        
        <section class="help-container">
            <div class="course-list">
                <!-- Course Cards -->
            </div>
        </section>


       
        

    <script>
        // Mock course data
        const advice = ["Exam Chapters to skip", "Semester Test 1 focus", "Unimportant chapters"]  ;

        // Function to create and populate course cards
       // Function to create and populate course cards
function populateCourseCards() {

    const localStorageData = JSON.parse(localStorage.getItem('users'));
    const loggedInUsername = localStorage.getItem('loggedInUsername');


    if (localStorageData && loggedInUsername) 
    {
    
    const loggedInUser = localStorageData.find(user => user.username === loggedInUsername);

    if (loggedInUser !==-1 && loggedInUser.modules) 
    {
       
        const arrayOfModules = Array.from(loggedInUser.modules);
        console.log(arrayOfModules)
        const courseList = document.querySelector(".course-list");

        arrayOfModules.forEach(course => {
        const card = document.createElement("div");
        card.classList.add("course-card");
        card.setAttribute("data-course", course);
        console.log(course);
        const h2 = document.createElement("h2");
        h2.textContent = course.split("-")[0];

        const br1 = document.createElement("br"); // Add a line break after the course title

        const adviceTitle = document.createElement("p");
        adviceTitle.textContent = "Trending Advice:";
        adviceTitle.classList.add("advice-title"); // Add a class for styling

        const br2 = document.createElement("br"); // Add a line break after the "Top Advice:" title

        const adviceList = document.createElement("ul"); // Use an ordered list for numbered advice
        advice.forEach((advice, index) => { // Iterate through the advice array
            const li = document.createElement("li");
            li.textContent = `${index + 1}. ${advice}`;
            adviceList.appendChild(li);
            li.style.padding = "5px";
        });

        // Add padding/margin between advice list items (li elements)
        

        const clickForMore = document.createElement("p");
        clickForMore.textContent = "Click for more â†’"; // Add "click for more" text with an arrow
        clickForMore.classList.add("click-for-more"); // Apply styling to the link

        card.appendChild(h2);
        card.appendChild(br1); // Add a line break after the course title
        card.appendChild(adviceTitle); // Add the advice title
        card.appendChild(br2); // Add a line break after the "Top Advice:" title
        card.appendChild(adviceList);
        card.appendChild(clickForMore); // Add "click for more" text

        card.addEventListener("click", () => {
            // Redirect to adviceSection.html with the course name as a query parameter
            window.location.href = `adviceSection.html?course=${encodeURIComponent(course)}`;
        });

        courseList.appendChild(card);
    });
                   
    }


}

    
}


        // Call the function to populate course cards
        window.onload = function() {
        populateCourseCards();
        }
    </script>

    


   
    <img src="../../images/clouds-1.svg" alt="image" class="home_cloud-1">
    <img src="../../images/clouds-2.svg" alt="image" class="home_cloud-2">

</div>
</body>
</html>
