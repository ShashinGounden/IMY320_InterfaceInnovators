<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/studyhelp.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/3.5.0/remixicon.min.css">
    <title>Study help</title>
    <link rel="icon" type="image/x-icon" href="../favicon.png">
   
</head>
<body>
    
        <nav class="nav container">
            <a href="./home.html" class="logo">
                <i class="ri-graduation-cap-fill"></i> Study Space
            </a>

            <div class="nav_bar" id="nav-menu">
                <ul class="nav_content_list">
                    <li class="nav_item">
                        <a href="./home.html" class="nav_button_normal">Profile</a>
                    </li>

                    <li class="nav_item">
                        <a href="./resources.html" class="nav_button_normal">Resources and Materials</a>
                    </li>

                    <li class="nav_item">
                        <a href="./studyhelp.html" class="nav_button_normal" style="color:#E040FB" >Study Help</a>
                    </li>
                </ul>

                <a href="../index.html" class="nav_button">Logout</a>

            </div>

        </nav>

        <div class="home_images">
            <img src="../images/points-space.svg" alt="image" class="home_points">
            <img src="../images/planet.svg" alt="image" class="home_planet-2 fixed-image">
            <img src="../images/planet.svg" alt="image" class="home_planet-1 fixed-image">
        </div>


        
        <section class="help-container" id="help-container">
            <div class="course-list">
                <!-- Course Cards -->
            </div>
        </section>


       
        

    <script>
        // Mock course data
        const advice = ["Important chapters", "Semester Test focus", "Exam chapters to skip", "Random"]  ;

        // Function to create and populate course cards
       // Function to create and populate course cards
function populateCourseCards() {

    const localStorageData = JSON.parse(localStorage.getItem('users'));
    const loggedInUsername = localStorage.getItem('loggedInUsername');


    if (localStorageData && loggedInUsername) 
    {
    
    const loggedInUser = localStorageData.find(user => user.username === loggedInUsername);

    if(loggedInUser.modules == '')
    {
        const html = `<br><br><div><h1 style ="font-size:35px">No modules added</></div>`;
        const modulesContainer = document.getElementById('help-container');

        modulesContainer.innerHTML = html;
        return;
    }

    if (loggedInUser !==-1 && loggedInUser.modules) 
    {         
        const arrayOfModules = Array.from(loggedInUser.modules);
        console.log(arrayOfModules)
        const courseList = document.querySelector(".course-list");

        arrayOfModules.forEach(course => {
        const card = document.createElement("div");
        card.classList.add("course-card");
        card.setAttribute("data-course", course);
        console.log(course);
        const h2 = document.createElement("h2");
        h2.classList.add("data-course");
        h2.textContent = course.split("-")[0];

        const br1 = document.createElement("br"); // Add a line break after the course title

        const adviceTitle = document.createElement("p");
        adviceTitle.textContent = "Advice topics:";
        adviceTitle.classList.add("advice-title"); // Add a class for styling

        const br2 = document.createElement("br"); // Add a line break after the "Top Advice:" title

        const advice1 = document.createElement("li");
        advice1.textContent = `${advice[0]}`;
        advice1.classList.add("advice1");
        advice1.style.padding = "5px";

        const advice2 = document.createElement("li");
        advice2.textContent = `${advice[1]}`;
        advice1.classList.add("advice2");
        advice2.style.padding = "5px";

        const advice3 = document.createElement("li");
        advice3.textContent = `${advice[2]}`;
        advice1.classList.add("advice3");
        advice3.style.padding = "5px";

        const advice4 = document.createElement("li");
        advice4.textContent = `${advice[3]}`;
        advice1.classList.add("advice4");
        advice4.style.padding = "5px";

        card.appendChild(h2);
        card.appendChild(br1); // Add a line break after the course title
        card.appendChild(adviceTitle); // Add the advice title
        card.appendChild(br2); // Add a line break after the "Top Advice:" title
        card.appendChild(advice1);
        card.appendChild(advice2);
        card.appendChild(advice3);
        card.appendChild(advice4);

        advice1.addEventListener("click", () => {
            const cla = course + "-" + `${advice[0]}`;
            window.location.href = `adviceSection.html?course=${encodeURIComponent(cla)}`;
        });

        advice2.addEventListener("click", () => {
            const cla = course + "-" + `${advice[1]}`;
            window.location.href = `adviceSection.html?course=${encodeURIComponent(cla)}`;
        });

        advice3.addEventListener("click", () => {
            const cla = course + "-" + `${advice[2]}`;
            window.location.href = `adviceSection.html?course=${encodeURIComponent(cla)}`;
        });
        advice4.addEventListener("click", () => {
            const cla = course + "-" + `${advice[3]}`;
            window.location.href = `adviceSection.html?course=${encodeURIComponent(cla)}`;
        });

        courseList.appendChild(card);
    });
                   
    }


}

    
}


        // Call the function to populate course cards
        window.onload = function() {
        populateCourseCards();
        }
    </script>

    


   
    <img src="../images/clouds-1.svg" alt="image" class="home_cloud-1">
    <img src="../images/clouds-2.svg" alt="image" class="home_cloud-2">

</div>
</body>
</html>
