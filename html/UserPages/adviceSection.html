<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="../../css/studyhelp.css"> <!-- Create a CSS file for your study help page styles -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <title>Study Help</title>
    <link rel="icon" type="image/x-icon" href="../favicon.png">
</head>
<body>
    
        <nav class="nav container">
            <a href="../index.html" class="logo">
                <i class="ri-school-line"></i> Study Sphere
            </a>
            <div class="nav_bar" id="nav-menu">
                <ul class="nav_content_list">
                    <li class="nav_item">
                        <a href="./home.html" class="nav_button_normal">Home</a>
                    </li>
                    <li class="nav_item">
                        <a href="./resources.html" class="nav_button_normal">Resources and Materials</a>
                    </li>
                    <li class="nav_item">
                        <a href="./studyhelp.html" class="nav_button_normal">Study Help</a>
                    </li>
                </ul>
                <a href="../Auth/login.html" class="nav_button">Login</a>
            </div>
        </nav>


        <main class="main">
            <section class="study-help">
                <h2>Trending Advice for IMY 320</h2>
                <div class="comments-list">
                    <!-- Comments will be dynamically added here -->
                </div>
            </section>
        </main>

    <script>// JavaScript for interacting with comments

        // Dummy data for comments (replace with your own logic to fetch comments from a server)
        const commentsData = [
            { text: "This is a great study resource!", upvotes: 5, downvotes: 2 },
            { text: "I found the materials very helpful.", upvotes: 3, downvotes: 1 },
        ];
        
        function renderComments() {
    const commentsList = document.querySelector(".comments-list");
    commentsList.innerHTML = ""; // Clear the existing comments

    commentsData.forEach((comment, index) => {
        const commentElement = document.createElement("div");
        commentElement.classList.add("comment");
        commentElement.innerHTML = `
            <div class="comment-card">
                <div class="comment-title">${comment.title}</div>
                <div class="comment-text">${comment.text}</div>
            </div>

            <div class="comment-votes">
                <span class="upvote" onclick="upvoteComment(${index})"><i class="fas fa-arrow-up"> Upvote</i> (${comment.upvotes})</span>
                <br />
                <br />
                <span class="downvote" onclick="downvoteComment(${index})"><i class="fas fa-arrow-down"> Downvote</i> (${comment.downvotes})</span>
            </div>
        `;

        commentsList.appendChild(commentElement);
    });
}

        
        function upvoteComment(index) {
            commentsData[index].upvotes++;
            renderComments();
        }
        
        function downvoteComment(index) {
            commentsData[index].downvotes++;
            renderComments();
        }
        
        document.addEventListener("DOMContentLoaded", () => {
            renderComments();
        
            const submitButton = document.getElementById("submit-comment");
    const commentTitle = document.getElementById("comment-title");
    const commentText = document.getElementById("comment-text");

    submitButton.addEventListener("click", (event) => {
        event.preventDefault(); // Prevent form submission

        const newCommentTitle = commentTitle.value.trim();
        const newCommentText = commentText.value.trim();

        if (newCommentTitle !== "" && newCommentText !== "") {
            commentsData.push({
                title: newCommentTitle,
                text: newCommentText,
                upvotes: 0,
                downvotes: 0
            });
            commentTitle.value = ""; // Clear the title input field
            commentText.value = ""; // Clear the text input field
            commentModal.style.display = "none"; // Close the modal
            renderComments();
        }
    });

    const addCommentButton = document.querySelector(".add-comment-button");
    const commentModal = document.getElementById("commentModal");
    const closeBtn = document.querySelector(".close");

    addCommentButton.addEventListener("click", () => {
        commentModal.style.display = "block";
    });

    closeBtn.addEventListener("click", () => {
        commentModal.style.display = "none";
    });

    window.addEventListener("click", (event) => {
        if (event.target == commentModal) {
            commentModal.style.display = "none";
        }
    });
    
    addCommentButton.addEventListener("click", () => {
        commentModal.style.display = "block";
    });

    closeBtn.addEventListener("click", () => {
        commentModal.style.display = "none";
    });

    window.addEventListener("click", (event) => {
        if (event.target == commentModal) {
            commentModal.style.display = "none";
        }
    });

    addCommentButton.addEventListener("click", () => {
        commentModal.style.display = "block";
    });

    closeBtn.addEventListener("click", () => {
        commentModal.style.display = "none";
    });

    window.addEventListener("click", (event) => {
        if (event.target == commentModal) {
            commentModal.style.display = "none";
        }
    });

        });
        </script> <!-- Create a JavaScript file for interaction -->
        <div id="commentModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Add your advice</h2>
                <form id="comment-form" class="comment-form">
                    <div>
                    <div>Title: </div>
                    <input type="text" id="comment-title" placeholder="Example Title" required>
                </div>
                <div>Advice: </div>
                    <textarea id="comment-text" placeholder="Write your advice here..." required></textarea>
                    <button id="submit-comment" type="submit">Post Advice</button>
                </form>
            </div>
        </div>

        <div class="add-comment-button">
            <i class="fas fa-plus"></i>
        </div>
</body>
</html>
